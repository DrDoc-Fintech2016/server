<!DOCTYPE HTML>
<html>
   <head>
       <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
        <script src="main.js"></script>
      <script type="text/javascript">
          var ws=null;
          ws = new WebSocket("ws://104.198.196.211:8000");
          //ws = new WebSocket("ws://localhost:8000");
          console.log("I AM HERE");
		  function led_on(){

             ws.send("{'led':'on'}");
          }
          function led_off(){
             ws.send("{'led':'off'}");
          }
               ws.onmessage = function (evt)
               {
                  var received_msg = evt.data;
                  alert("Message is received..."+received_msg);
               };
         function WebSocketTest()
         {
            if ("WebSocket" in window)
            {
               // Let us open a web socket



               ws.onopen = function()
               {
                  // Web Socket is connected, send data using send()
                  ws.send("Message to send");
                  alert("Message is sent...");
               };

               ws.onmessage = function (evt)
               {
                  var received_msg = evt.data;
                  alert("Message is received..."+received_msg);
               };

               ws.onclose = function()
               {
                  // websocket is closed.
                  alert("Connection is closed...");
               };
            }

            else
            {
               // The browser doesn't support WebSocket
               alert("WebSocket NOT supported by your Browser!");
            }
         }



      </script>

   </head>
   <body>

      <div id="sse">
         <a href="javascript:WebSocketTest()">Run WebSocket</a>
          <a href="javascript:led_on()"> Send</a>

      </div>
    <div ng-app="myApp">
  <div ng-controller="MainController">
    <button ng-click="SendCommand()">SendCommand</button>
    <md-input-container class="md-block" flex-gt-sm>
            <label>Command</label>
            <input ng-model="command">
          </md-input-container>
      <md-input-container class="md-block" flex-gt-sm>
            <label>Data</label>
            <input ng-model="data">
          </md-input-container>
    <div id="farm">
        <div class="grass" ng-repeat="g in grass">
            <img src="https://drive.google.com/uc?export=view&id=0B1mQfOwV0VUHWWhiRmM5bVlIczA" />
        </div>
        <div class="cow" ng-repeat="c in cows">
           <img src="https://drive.google.com/uc?export=view&id=0B1mQfOwV0VUHdTdBdHBibVM0UGM" />
        </div>
        <br style="clear:both"/>
    </div>
  </div>
</div>

   </body>
</html>